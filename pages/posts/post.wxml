<import src="post-item/post-item-template.wxml" />

<view>
  <swiper catchtap="onSwiperTap" vertical='{{false}}' indicator-dots="lalala" autoplay="{{true}}" interval="2000" duration="500">
    <swiper-item>
      <image catchtap="onSwiperItemTap" src="/images/a1.jpg" data-postId="1"></image>
      </swiper-item>
    <swiper-item>
      <image bindtap="onSwiperItemTap" src="/images/a2.jpg" data-postId="2"></image>
      </swiper-item>
    <swiper-item>
      <image src="/images/a3.jpg" data-postId="3"></image>
      </swiper-item>
  </swiper>

  <block wx:for="{{posts_key}}" wx:for-item="item">
    <!--template, template只是个占位符-->
    <!-- postid是由post.wxml中data-postId="{{item.postId}}"获得 -->
    <!-- dataset在组件中可以定义数据，这些数据将会通过事件传递给 SERVICE。 书写方式： 以data - 开头，多个单词由连字符 - 链接，不能有大写(大写会自动转成小写)如data- element - type，最终在 event.currentTarget.dataset 中会将连字符转成驼峰elementType -->
    <view catchtap="onPostTap" data-postId="{{item.postId}}">
        <template is="postItem" data="{{...item}}" />
    </view>
  </block>
</view>